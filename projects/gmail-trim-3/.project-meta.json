{
  "id": "gmail-trim-3",
  "name": "Gmail Trim",
  "import_type": "test",
  "source_url": null,
  "imported_at": "2026-02-03T00:00:00.000000",
  "entry_points": [
    "gmail_trim_demo:main"
  ],
  "dependencies": [],
  "wrapper_script": "/home/snadboy/projects/script-server/samples/scripts/gmail-trim-3_www.py",
  "runner_config": "/home/snadboy/projects/script-server/conf/runners/www.json",
  "parameters": [
    {
      "name": "days",
      "type": "int",
      "description": "Number of days to keep emails",
      "required": false,
      "default": 30,
      "min": 1,
      "max": 365,
      "param": "-d"
    },
    {
      "name": "dry_run",
      "type": "bool",
      "description": "Preview mode - don't actually delete anything",
      "required": false,
      "default": true,
      "param": "--dry-run",
      "no_value": true
    },
    {
      "name": "verbose",
      "type": "bool",
      "description": "Enable verbose logging",
      "required": false,
      "default": false,
      "param": "-v",
      "no_value": true
    },
    {
      "name": "config_file",
      "type": "text",
      "description": "Path to configuration file",
      "required": false,
      "param": "-c"
    }
  ],
  "verbs": {
    "parameter_name": "command",
    "required": true,
    "default": "run",
    "param": "",
    "verb_position": "after_verb",
    "options": [
      {
        "name": "run",
        "label": "Run Cleanup",
        "description": "Execute email cleanup with configured settings",
        "parameters": [
          "days",
          "dry_run",
          "verbose",
          "config_file"
        ],
        "required_parameters": []
      },
      {
        "name": "auth",
        "label": "Authenticate",
        "description": "Authorize access to Gmail and Contacts APIs",
        "parameters": [
          "verbose"
        ],
        "required_parameters": []
      },
      {
        "name": "labels",
        "label": "List Labels",
        "description": "Show all Gmail labels in the account",
        "parameters": [
          "verbose"
        ],
        "required_parameters": []
      },
      {
        "name": "groups",
        "label": "List Contact Groups",
        "description": "Show all Google contact groups",
        "parameters": [
          "verbose"
        ],
        "required_parameters": []
      },
      {
        "name": "config",
        "label": "Show Config",
        "description": "Display effective configuration",
        "parameters": [
          "config_file",
          "verbose"
        ],
        "required_parameters": []
      }
    ]
  },
  "shared_parameters": [
    "verbose"
  ]
}